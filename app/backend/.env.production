# Backend Environment Variables
# Скопируй этот файл в .env и заполни значения

# ============================================
# Firebase Admin SDK (для доступа к Firestore)
# ============================================
# ВАЖНО: Для бэкенда нужен Service Account, а не обычные Firebase конфигурационные переменные!
# 
# Вариант 1 (рекомендуется): Полный JSON Service Account
# Получи Service Account JSON:
# 1. Открой https://console.firebase.google.com/
# 2. Выбери проект → Project Settings → Service Accounts
# 3. Нажми "Generate new private key"
# 4. Скопируй весь JSON и вставь сюда (в одну строку, в кавычках)
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"your-project-id",...}

# ИЛИ Вариант 2: Отдельные переменные из Service Account JSON
# Распарси JSON и используй эти поля:
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# ============================================
# Telegram API (для работы с SyntX)
# ============================================
# Получи на https://my.telegram.org/apps
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=your-api-hash-here
SYNX_CHAT_ID=your-syntx-chat-id

# Секретный ключ для шифрования Telegram сессий (32 байта в hex = 64 символа)
# Сгенерируй: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TELEGRAM_SESSION_SECRET=your-64-char-hex-secret-here

# Зашифрованная Telegram сессия (для Cloud Run / продакшена)
# Получи после успешного логина через: npm run export:telegram-session
# ВАЖНО: Используйте одинаковый TELEGRAM_SESSION_SECRET для шифрования/расшифровки!
TELEGRAM_SESSION_ENCRYPTED=your-encrypted-session-string-here

# ============================================
# Google Drive API (для сохранения видео)
# ============================================
# Получи Service Account для Google Drive:
# 1. Открой https://console.cloud.google.com/
# 2. APIs & Services → Credentials → Create Credentials → Service Account
# 3. Создай Service Account и скачай JSON ключ
# 4. Распарси JSON и используй эти поля:
GOOGLE_DRIVE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GOOGLE_DRIVE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# Опционально: ID папки по умолчанию (если у канала не задан googleDriveFolderId)
GOOGLE_DRIVE_DEFAULT_PARENT=your-default-folder-id

# ============================================
# Server Configuration
# ============================================
PORT=3000
FRONTEND_ORIGIN=http://localhost:5173

# Секрет для JWT (любая случайная строка)
JWT_SECRET=your-jwt-secret-here

# Секрет для cron jobs (любая случайная строка)
CRON_SECRET=your-cron-secret-here






